<!DOCTYPE html>
<html>
  <head>
    <title>CREDITS Utility</title>
    <style>
      body { margin: 40px;}
      .hidden { display:none; }
    </style>
  </head>
  <body>
    <h1>Author Dialog authorModel Utility</h1>
    <p>This utility will parse a \n delimited list of names and generate ListElement components for entry into the QML model located in /qml/AuthorsModel.qml.</p>
    <div class="output"></div>
    <form onSubmit="javascript:handleForm($('.authors').val()); return false;">
      <textarea class="authors" rows="30"></textarea>
      <button type="submit" class="btn">Generate</button>
    </form>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script>
    function handleForm(str){ 
      console.log(str);

      var lines = str.split(/\n/);
      var texts = [];
      $('<div class="alert-block alert-info"><strong>Instructions: </strong>Cut/Paste the ListElements below into /qml/AuthorsModel.qml</div><br>').appendTo('.output');
      for (var i=0; i < lines.length; i++) {
         // only push this line if it contains a non whitespace character.
        if (/\S/.test(lines[i])) {
        texts.push($.trim(lines[i]));
        }
        //Make string to append to output
        var listelement = '<p>ListElement { name: "' + texts[i] + '" }</p>';
        $(listelement).appendTo('.output');
      }
      $('button').detach();
      $('.authors').detach();

    }      
    </script>
  </body>
</html